<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>create <code><a href='sdcProblem-class.html'>sdcProblem-class</a></code>-objects — makeProblem • sdcTable</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="create <code><a href='sdcProblem-class.html'>sdcProblem-class</a></code>-objects — makeProblem" />

<meta property="og:description" content="Function makeProblem is used to create
sdcProblem-class-objects." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdcTable</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.28</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/sdcTable.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sdcTools/sdcTable">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>create <code><a href='sdcProblem-class.html'>sdcProblem-class</a></code>-objects</h1>
    <small class="dont-index">Source: <a href='https://github.com/sdcTools/sdcTable/blob/master/R/makeProblem.R'><code>R/makeProblem.R</code></a></small>
    <div class="hidden name"><code>makeProblem.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Function <code>makeProblem</code> is used to create
<code><a href='sdcProblem-class.html'>sdcProblem-class</a></code>-objects.</p>
    
    </div>

    <pre class="usage"><span class='fu'>makeProblem</span>(<span class='no'>data</span>, <span class='no'>dimList</span>, <span class='kw'>dimVarInd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>freqVarInd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>numVarInd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>weightInd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>sampWeightInd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>a data frame featuring at least one column for each desired
dimensional variable. Optionally the input data can feature variables
that contain information on cell counts, weights that should be used during
the cut and branch algorithm, additional numeric variables or variables that
hold information on sampling weights.</p></td>
    </tr>
    <tr>
      <th>dimList</th>
      <td><p>a named list where the names refer to variable names in
input <code>data</code>. Each list element can be one of:</p><ul>
<li><p><code>tree</code>: generated with <code>hier_*()</code> functions from the
sdcHierarchies package</p></li>
<li><p><code>data.frame</code>: a two column <code>data.frame</code> containing
the complete level hierarchy of a dimensional variable using a
top-to-bottom approach. The format of the <code>data.frame</code> is as follows:
<ul>
<li><p>first column: a character vector specifying levels with each vector
element being a string only containing of '@'s from length 1 to n.
If a vector element consists of <code>i</code>-chars, the corresponding code
is of level <code>i</code>. The code '@' (one character) equals the grand
total (level=1), the code `@@` (two characters) is of level 2 (directly
below the overall total).</p></li>
<li><p>second column: a character vector specifying level codes</p></li>
</ul></p></li>
<li><p><code>path</code>: absolute or relative path to a <code>.csv</code> file that
contains two columns seperated by semicolons (;) having the same structure
as the <code>"@;levelname"</code>-structure described above</p></li>
</ul></td>
    </tr>
    <tr>
      <th>dimVarInd</th>
      <td><p>numeric vector (or NULL) defining the column-indices of
dimensional variables (defining the table) within argument <code>data</code>.
If <code>NULL</code>, the names of argument <code>dimList</code> are used to calculate
the indices of the dimensional variables within <code>data</code> internally.</p></td>
    </tr>
    <tr>
      <th>freqVarInd</th>
      <td><p>numeric vector (or NULL) defining the column-indices
of a variable holding counts within argument <code>data</code></p></td>
    </tr>
    <tr>
      <th>numVarInd</th>
      <td><p>numeric vector (or NULL) defining the column-indices
of additional numeric variables available in argument <code>data</code></p></td>
    </tr>
    <tr>
      <th>weightInd</th>
      <td><p>numeric vector of length 1 (or NULL) defining the
column-index of a variable holding weights that should be used during
as objective coefficients during the cut and branch algorithm to
protect primary sensitive cells within argument <code>data</code></p></td>
    </tr>
    <tr>
      <th>sampWeightInd</th>
      <td><p>numeric vector of length 1 (or NULL) defining
the column-index of a variable holding sampling weights within
argument <code>data</code></p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code><a href='sdcProblem-class.html'>sdcProblem-class</a></code>-object</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># loading micro data</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='st'>"microData1"</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"sdcTable"</span>)
<span class='no'>microData</span> <span class='kw'>&lt;-</span> <span class='no'>microData1</span>; <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rm'>rm</a></span>(<span class='no'>microData1</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: object 'microData1' not found</span></div><div class='input'><span class='co'># having a look at the data structure</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>microData</span>)</div><div class='output co'>#&gt; 'data.frame':	100 obs. of  3 variables:
#&gt;  $ region: chr  "C" "C" "A" "A" ...
#&gt;  $ gender: chr  "male" "male" "male" "male" ...
#&gt;  $ val   : num  9 11 10 11 18 10 6 9 5 12 ...</div><div class='input'>
<span class='co'># we can observe that we have a micro data set consisting</span>
<span class='co'># of two spanning variables ('region' and 'gender') and one</span>
<span class='co'># numeric variable ('val')</span>

<span class='co'># specify structure of hierarchical variable 'region'</span>
<span class='co'># levels 'A' to 'D' sum up to a Total</span>
<span class='no'>dim.region</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(
 <span class='kw'>levels</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'@'</span>,<span class='st'>'@@'</span>,<span class='st'>'@@'</span>,<span class='st'>'@@'</span>,<span class='st'>'@@'</span>),
 <span class='kw'>codes</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'Total'</span>, <span class='st'>'A'</span>,<span class='st'>'B'</span>,<span class='st'>'C'</span>,<span class='st'>'D'</span>),
 <span class='kw'>stringsAsFactors</span><span class='kw'>=</span><span class='fl'>FALSE</span>)

<span class='co'># specify structure of hierarchical variable 'gender'</span>
<span class='co'># using create_node() and add_nodes() (see ?manage_hierarchies)</span>
<span class='no'>dim.gender</span> <span class='kw'>&lt;-</span> <span class='fu'>hier_create</span>(<span class='kw'>root</span> <span class='kw'>=</span> <span class='st'>"Total"</span>, <span class='kw'>nodes</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"male"</span>, <span class='st'>"female"</span>))
<span class='fu'>hier_display</span>(<span class='no'>dim.gender</span>)</div><div class='output co'>#&gt; Total
#&gt; ├─female
#&gt; └─male</div><div class='input'>
<span class='co'># create a named list with each element being a data-frame</span>
<span class='co'># containing information on one dimensional variable and</span>
<span class='co'># the names referring to variables in the input data</span>
<span class='no'>dimList</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>region</span><span class='kw'>=</span><span class='no'>dim.region</span>, <span class='kw'>gender</span><span class='kw'>=</span><span class='no'>dim.gender</span>)

<span class='co'># third column containts a numeric variable</span>
<span class='no'>numVarInd</span> <span class='kw'>&lt;-</span> <span class='fl'>3</span>

<span class='co'># no variables holding counts, numeric values, weights or sampling</span>
<span class='co'># weights are available in the input data</span>
<span class='no'>freqVarInd</span> <span class='kw'>&lt;-</span> <span class='no'>weightInd</span> <span class='kw'>&lt;-</span> <span class='no'>sampWeightInd</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span>

<span class='co'># creating an object of class \code{\link{sdcProblem-class}}</span>
<span class='no'>problem</span> <span class='kw'>&lt;-</span> <span class='fu'>makeProblem</span>(
 <span class='kw'>data</span><span class='kw'>=</span><span class='no'>microData</span>,
 <span class='kw'>dimList</span><span class='kw'>=</span><span class='no'>dimList</span>,
 <span class='kw'>freqVarInd</span><span class='kw'>=</span><span class='no'>freqVarInd</span>,
 <span class='kw'>numVarInd</span><span class='kw'>=</span><span class='no'>numVarInd</span>,
 <span class='kw'>weightInd</span><span class='kw'>=</span><span class='no'>weightInd</span>,
 <span class='kw'>sampWeightInd</span><span class='kw'>=</span><span class='no'>sampWeightInd</span>)

<span class='co'># what do we have?</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/class'>class</a></span>(<span class='no'>problem</span>))</div><div class='output co'>#&gt; [1] "sdcProblem"
#&gt; attr(,"package")
#&gt; [1] "sdcTable"</div><div class='input'>
<span class='co'># have a look at the data</span>
<span class='fu'><a href='sdcProb2df.html'>sdcProb2df</a></span>(<span class='no'>problem</span>, <span class='kw'>addDups</span><span class='kw'>=</span><span class='fl'>TRUE</span>,
  <span class='kw'>addNumVars</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>dimCodes</span><span class='kw'>=</span><span class='st'>"original"</span>)</div><div class='output co'>#&gt;     strID freq sdcStatus  val region gender
#&gt;  1:  0000  100         s 1284  Total  Total
#&gt;  2:  0001   45         s  482  Total female
#&gt;  3:  0002   55         s  802  Total   male
#&gt;  4:  0100   20         s  198      A  Total
#&gt;  5:  0101    2         s   20      A female
#&gt;  6:  0102   18         s  178      A   male
#&gt;  7:  0200   33         s  344      B  Total
#&gt;  8:  0201   19         s  204      B female
#&gt;  9:  0202   14         s  140      B   male
#&gt; 10:  0300   22         s  224      C  Total
#&gt; 11:  0301   10         s  106      C female
#&gt; 12:  0302   12         s  118      C   male
#&gt; 13:  0400   25         s  518      D  Total
#&gt; 14:  0401   14         s  152      D female
#&gt; 15:  0402   11         s  366      D   male</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Bernhard Meindl <a href='mailto:bernhard.meindl@statistik.gv.at'>bernhard.meindl@statistik.gv.at</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Bernhard Meindl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

